{"ast":null,"code":"var _jsxFileName = \"/home/aneesh/Desktop/Side Projects/clone-apps/instagram-clone/frontend/src/components/commons/auth-context/auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, createContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authContext = /*#__PURE__*/createContext();\nexport function ProvideAuth({\n  children\n}) {\n  _s();\n\n  const auth = useProvideAuth();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 12\n  }, this);\n}\n\n_s(ProvideAuth, \"XNU4Jn8u4aVzJknlKOHFJq03xMo=\", false, function () {\n  return [useProvideAuth];\n});\n\n_c = ProvideAuth;\nexport const useAuth = () => {\n  _s2();\n\n  return useContext(authContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction useProvideAuth() {\n  _s3();\n\n  const [user, setUser] = useState({\n    access_token: localStorage.getItem('access_token'),\n    username: null\n  });\n\n  const signin = (cb, {\n    username\n  }) => {\n    setUser({\n      access_token: localStorage.getItem('access_token'),\n      username: username\n    });\n\n    if (cb) {\n      cb();\n    }\n  };\n\n  const signout = cb => {\n    localStorage.removeItem('access_token');\n    setUser({\n      access_token: null,\n      username: null\n    });\n\n    if (cb) {\n      cb();\n    }\n  };\n\n  return {\n    user,\n    signin,\n    signout\n  };\n}\n\n_s3(useProvideAuth, \"2hE61JAhLYHc46PLEbaFtYV5oNI=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ProvideAuth\");","map":{"version":3,"sources":["/home/aneesh/Desktop/Side Projects/clone-apps/instagram-clone/frontend/src/components/commons/auth-context/auth.js"],"names":["React","useState","useEffect","useContext","createContext","authContext","ProvideAuth","children","auth","useProvideAuth","useAuth","user","setUser","access_token","localStorage","getItem","username","signin","cb","signout","removeItem"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,EAAiDC,aAAjD,QAAsE,OAAtE;;AAEA,MAAMC,WAAW,gBAAGD,aAAa,EAAjC;AACA,OAAO,SAASE,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAmC;AAAA;;AACtC,QAAMC,IAAI,GAAGC,cAAc,EAA3B;AACA,sBAAO,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAED,IAA7B;AAAA,cAAoCD;AAApC;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;GAHeD,W;UACCG,c;;;KADDH,W;AAIhB,OAAO,MAAMI,OAAO,GAAG;AAAA;;AAAA,SAAMP,UAAU,CAACE,WAAD,CAAhB;AAAA,CAAhB;;IAAMK,O;;AACb,SAASD,cAAT,GAA0B;AAAA;;AACtB,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC;AAC7BY,IAAAA,YAAY,EAAEC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADe;AAE7BC,IAAAA,QAAQ,EAAE;AAFmB,GAAD,CAAhC;;AAKA,QAAMC,MAAM,GAAG,CAACC,EAAD,EAAK;AAAEF,IAAAA;AAAF,GAAL,KAAsB;AACjCJ,IAAAA,OAAO,CAAC;AACJC,MAAAA,YAAY,EAAEC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADV;AAEJC,MAAAA,QAAQ,EAAEA;AAFN,KAAD,CAAP;;AAIA,QAAIE,EAAJ,EAAQ;AACJA,MAAAA,EAAE;AACL;AACJ,GARD;;AASA,QAAMC,OAAO,GAAID,EAAD,IAAQ;AACpBJ,IAAAA,YAAY,CAACM,UAAb,CAAwB,cAAxB;AACAR,IAAAA,OAAO,CAAC;AACJC,MAAAA,YAAY,EAAE,IADV;AAEJG,MAAAA,QAAQ,EAAE;AAFN,KAAD,CAAP;;AAIA,QAAIE,EAAJ,EAAQ;AACJA,MAAAA,EAAE;AACL;AACJ,GATD;;AAUA,SAAO;AACHP,IAAAA,IADG;AAEHM,IAAAA,MAFG;AAGHE,IAAAA;AAHG,GAAP;AAKH;;IA9BQV,c","sourcesContent":["import React, { useState, useEffect, useContext, createContext } from 'react';\n\nconst authContext = createContext();\nexport function ProvideAuth({ children }) {\n    const auth = useProvideAuth();\n    return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\nexport const useAuth = () => useContext(authContext);\nfunction useProvideAuth() {\n    const [user, setUser] = useState({\n        access_token: localStorage.getItem('access_token'),\n        username: null,\n    });\n\n    const signin = (cb, { username }) => {\n        setUser({\n            access_token: localStorage.getItem('access_token'),\n            username: username,\n        });\n        if (cb) {\n            cb();\n        }\n    };\n    const signout = (cb) => {\n        localStorage.removeItem('access_token');\n        setUser({\n            access_token: null,\n            username: null,\n        });\n        if (cb) {\n            cb();\n        }\n    };\n    return {\n        user,\n        signin,\n        signout,\n    };\n}\n"]},"metadata":{},"sourceType":"module"}