{"version":3,"sources":["logo.svg","components/commons/axiosApi.js","components/commons/auth-context/auth.js","components/commons/custom-modal/custom-modal.js","components/loginform/LoginForm.js","components/registration/registration-form.js","components/feed/simple-feed-layout.js","components/commons/protected-route/protected-route.js","components/layout/layout.js","App.js","reportWebVitals.js","index.js"],"names":["axiosInstance","axios","create","baseURL","timeout","headers","accept","authContext","createContext","ProvideAuth","children","auth","useState","access_token","localStorage","getItem","username","user","setUser","signin","cb","signout","removeItem","useProvideAuth","Provider","value","useAuth","useContext","findByType","component","result","console","log","name","type","displayName","React","Children","forEach","child","childType","includes","push","Footer","Body","CustomModal","props","operateChildren","closeModal","onClose","el","document","getElementById","state","display","this","title","className","closable","icon","faTimesCircle","onClick","footer","body","style","padding","setState","prevProps","ReactDOM","createPortal","CSSTransition","in","unmountOnExit","enter","exit","renderHeader","renderBody","renderFooter","Component","Header","Login","email","setEmail","password","setPassword","registrationSuccess","failedLogin","alertShow","setAlertShow","location","useLocation","useHistory","httpService","showAlertBox","propName","status","useEffect","window","history","replaceState","key","displaySuccessAlert","setTimeout","to","pathname","Fragment","Button","Alert","position","top","left","width","variant","show","Form","event","preventDefault","length","post","then","response","defaults","data","access","setItem","refresh","undefined","catch","error","Group","controlId","Control","placeholder","onChange","inp","target","RegistrationForm","checkIfFormValid","alertMessage","blankExists","Object","entries","propValue","EMPTYMESSAGE","handleSubmit","showLoad","_axiosInstance","redirectToLogin","recordValue","typeOfValue","confirmPassword","alertusername","alertemail","alertpassword","alertconfirmPassword","flexDirection","alignItems","justifyContent","height","Spinner","animation","role","class","se","SimpleFeed","ProtectedRoute","rest","render","from","Layout","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.a9e39917.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios from 'axios';\nconst axiosInstance = axios.create({\n\tbaseURL: 'http://127.0.0.1:8000/insta_backend/',\n\ttimeout: 5000,\n\theaders: {\n\t\t'Content-Type': 'application/json',\n\t\taccept: 'application/json'\n\t}\n});\nexport default axiosInstance;\n","import React, { useState, useEffect, useContext, createContext } from 'react';\n\nconst authContext = createContext();\nexport function ProvideAuth({ children }) {\n    const auth = useProvideAuth();\n    return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\nexport const useAuth = () => useContext(authContext);\n//This is a custom hook\nfunction useProvideAuth() {\n    const [user, setUser] = useState({\n        access_token: localStorage.getItem('access_token'),\n        username: null,\n    });\n\n    const signin = (cb, { username }) => {\n        setUser({\n            access_token: localStorage.getItem('access_token'),\n            username: username,\n        });\n        if (cb) {\n            cb();\n        }\n    };\n    const signout = (cb) => {\n        localStorage.removeItem('access_token');\n        setUser({\n            access_token: null,\n            username: null,\n        });\n        if (cb) {\n            cb();\n        }\n    };\n    return {\n        user,\n        signin,\n        signout,\n    };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Spinner, Modal, Button } from 'react-bootstrap';\nimport { CSSTransition } from 'react-transition-group';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport './custom-modal.css';\nconst findByType = (children, component) => {\n    const result = [];\n    console.log('findByType: component details ', component.name);\n    console.log('findByType: children details ', children);\n    const type = [component.displayName || component.name];\n    console.log('findByType: type details ', type);\n    React.Children.forEach(children, (child) => {\n        console.log('findByType: child details', child.type.name);\n        const childType =\n            child && child.type && (child.type.displayName || child.type.name);\n        if (type.includes(childType)) {\n            result.push(child);\n        }\n    });\n    console.log('findByType: result details ', result);\n    return result[0];\n};\nconst Header = () => null;\nconst Footer = () => null;\nconst Body = () => null;\nclass CustomModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.el = document.getElementById('root');\n        this.state = {\n            display: false,\n        };\n    }\n    componentWillUnmount() {}\n    operateChildren = (children) => {\n        React.Children.forEach(children, (child) => {\n            console.log(child, child.name, child.displayName, child.type);\n        });\n    };\n    renderHeader() {\n        if (!this.props.title) {\n            return null;\n        }\n        return (\n            <div className=\"d-flex-horizontal modal-header\">\n                {this.props.title}\n                {this.props.closable && (\n                    <FontAwesomeIcon\n                        icon={faTimesCircle}\n                        onClick={() => this.closeModal()}\n                    />\n                )}\n            </div>\n        );\n    }\n    closeModal = () => {\n        if (this.props.onClose) {\n            this.props.onClose();\n        }\n    };\n    renderFooter() {\n        const { children } = this.props;\n        const footer = findByType(children, Footer);\n        if (!footer) {\n            return null;\n        }\n        return (\n            <div className=\"d-flex-horizontal modal-footer\">\n                {footer.props.children}\n            </div>\n        );\n    }\n    renderBody() {\n        const { children } = this.props;\n        console.log(children);\n        const body = findByType(children, Body);\n        console.log(body);\n        if (!body) {\n            return null;\n        }\n        return (\n            <div\n                style={{\n                    padding: '10px',\n                }}\n            >\n                {body.props.children}\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.setState({\n            display: this.props.display,\n        });\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.display !== prevProps.display) {\n            this.setState({\n                display: this.props.display,\n            });\n        }\n    }\n    render() {\n        // this.el.classList += ' overlay';\n        return ReactDOM.createPortal(\n            <CSSTransition\n                in={this.state.display}\n                unmountOnExit\n                timeout={{ enter: 0, exit: 300 }}\n            >\n                <>\n                    <div className=\"overlay\">\n                        <div\n                            className={`loading-screen-container ${\n                                this.state.display ? 'modal-show' : ''\n                            }`}\n                        >\n                            <div className=\"d-flex-vertical vertical-flex-container m-10\">\n                                {this.renderHeader()}\n                                {this.renderBody()}\n                                {this.renderFooter()}\n                            </div>\n                        </div>\n                    </div>\n                </>\n            </CSSTransition>,\n            document.getElementById('root')\n        );\n    }\n}\nCustomModal.Header = Header;\nCustomModal.Body = Body;\nCustomModal.Footer = Footer;\nexport default CustomModal;\n","import React, { useEffect, useState } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Login.css';\nimport {\n    Link,\n    useLocation,\n    useRouteMatch,\n    useHistory,\n    Redirect,\n} from 'react-router-dom';\nimport { Alert, Modal } from 'react-bootstrap';\nimport axiosInstance from '../commons/axiosApi';\nimport { useAuth } from '../commons/auth-context/auth';\nimport CustomModal from '../commons/custom-modal/custom-modal';\nimport axios from 'axios';\n\nexport default function Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [alertShow, setAlertShow] = useState({\n        registrationSuccess: false,\n        failedLogin: false,\n    });\n    let location = useLocation();\n    let auth = useAuth();\n    console.log(auth);\n    let history = useHistory();\n    let httpService = axiosInstance;\n    function validateForm() {\n        return email.length > 0 && password.length > 0;\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        if (validateForm()) {\n            try {\n                httpService\n                    .post('/token/obtain', {\n                        username: email,\n                        password: password,\n                    })\n                    .then((response) => {\n                        console.log(response);\n                        httpService.defaults.headers['Authorization'] =\n                            'JWT ' + response.data.access;\n                        localStorage.setItem(\n                            'access_token',\n                            response.data.access\n                        );\n                        localStorage.setItem(\n                            'refresh_token',\n                            response.data.refresh\n                        );\n                        auth.signin(undefined, {\n                            username: response.data.username,\n                        });\n                    })\n                    .catch((error) => {\n                        if (error.response.status === 401) {\n                            setAlertShow({\n                                ...alertShow,\n                                failedLogin: true,\n                            });\n                        }\n                    });\n            } catch (error) {\n                throw error;\n            }\n        }\n    }\n    const showAlertBox = (propName, status) => {\n        setAlertShow({\n            ...alertShow,\n            [propName]: status,\n        });\n    };\n    useEffect(() => {\n        window.history.replaceState(\n            {\n                key: '',\n                state: {},\n            },\n            ''\n        );\n        // prettier-ignore\n        if (location.state?.displaySuccessAlert) {\n\t\t\t\tsetAlertShow({\n                    ...alertShow,\n                    registrationSuccess: true\n                });\n\t\t\t\tsetTimeout(() => setAlertShow({\n                    ...alertShow,\n                    registrationSuccess: false\n                }), 5000);\n\t\t\t}\n    }, [location]);\n    return auth.user.access_token ? (\n        <Redirect\n            to={{\n                pathname: '/feed',\n            }}\n        />\n    ) : (\n        <React.Fragment>\n            <CustomModal\n                display={alertShow.failedLogin}\n                title=\"Login Failed\"\n                onClose={() => showAlertBox('failedLogin', false)}\n                closable\n            >\n                <CustomModal.Body>\n                    Incorrect password or email. Please retry.\n                </CustomModal.Body>\n                <CustomModal.Footer>\n                    <Button onClick={() => showAlertBox('failedLogin', false)}>\n                        Retry\n                    </Button>\n                </CustomModal.Footer>\n            </CustomModal>\n            <Alert\n                style={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                }}\n                variant={'success'}\n                show={alertShow.registrationSuccess}\n            >\n                You've registered successfully! Login and explore...\n            </Alert>\n            <div className=\"Login Login-Box m-350\">\n                <h1 className=\"app-name\">PhotoShare</h1>\n                {/* <Alert variant={'success'}>You've registered successfully! Login and explore...</Alert> */}\n                <Form onClick={handleSubmit}>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <br />\n                        <Form.Control\n                            type=\"email\"\n                            placeholder=\"Enter email...\"\n                            className=\"login-input thin-border\"\n                            onChange={(inp) => setEmail(inp.target.value)}\n                        />\n                        <br />\n                        <Form.Control\n                            type=\"password\"\n                            placeholder=\"Enter password...\"\n                            className=\"login-input thin-border\"\n                            onChange={(inp) => setPassword(inp.target.value)}\n                        />\n                    </Form.Group>\n                    <Button className=\"button\" variant=\"primary\" type=\"submit\">\n                        Log In\n                    </Button>\n                </Form>\n            </div>\n            <div className=\"Login-Box Bottom-Box\">\n                Don't have an account? <Link to=\"/register\">Register</Link>\n            </div>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport { Spinner } from 'react-bootstrap';\n\nimport './registration.css';\nimport '../loginform/Login.css';\nimport axiosInstance from '../commons/axiosApi';\nimport CustomModal from '../commons/custom-modal/custom-modal';\nimport { Redirect } from 'react-router-dom';\nexport default class RegistrationForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.EMPTYMESSAGE = {\n            username: 'Please enter a username.',\n            email: 'Please enter an email address.',\n            password: 'Please enter your password.',\n            confirmPassword: 'Please confirm your password.',\n        };\n        this._axiosInstance = axiosInstance;\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n            alertusername: '',\n            alertemail: '',\n            alertpassword: '',\n            alertconfirmPassword: '',\n            showLoad: false,\n            redirectToLogin: false,\n        };\n    }\n    componentDidMount() {}\n    checkIfFormValid = () => {\n        let alertMessage = {};\n        let blankExists = false;\n        for (let [propName, propValue] of Object.entries(this.state)) {\n            if (\n                ['username', 'email', 'password', 'confirmPassword'].includes(\n                    propName\n                )\n            ) {\n                if (\n                    propValue === null ||\n                    propValue === undefined ||\n                    propValue === ''\n                ) {\n                    alertMessage['alert' + propName] =\n                        this.EMPTYMESSAGE[propName];\n                    blankExists = true;\n                } else {\n                    alertMessage['alert' + propName] = '';\n                }\n            }\n        }\n        console.log(alertMessage);\n        this.setState(alertMessage);\n        console.log('Status of validation is ', blankExists);\n        return !blankExists;\n    };\n    handleSubmit = (event) => {\n        event.preventDefault();\n        if (this.checkIfFormValid()) {\n            this.setState({\n                showLoad: true,\n            });\n            this._axiosInstance\n                .post('/user/create', {\n                    username: this.state.username,\n                    password: this.state.password,\n                    email: this.state.email,\n                })\n                .then((response) => {\n                    setTimeout(\n                        () =>\n                            this.setState({\n                                redirectToLogin: true,\n                                showLoad: false,\n                            }),\n                        4000\n                    );\n                })\n                .catch((error) => {\n                    console.log(error.response);\n                });\n        }\n    };\n    recordValue = (value, typeOfValue) => {\n        this.setState({\n            [typeOfValue]: value,\n        });\n    };\n    componentWillUnmount() {\n        this.setState({\n            redirectToLogin: false,\n        });\n    }\n    render() {\n        if (this.state.redirectToLogin) {\n            return (\n                <Redirect\n                    to={{\n                        pathname: '/',\n                        state: {\n                            displaySuccessAlert: true,\n                        },\n                    }}\n                />\n            );\n        }\n        return (\n            <React.Fragment>\n                <CustomModal display={this.state.showLoad}>\n                    <CustomModal.Body>\n                        <div\n                            style={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center',\n                                justifyContent: 'space-evenly',\n                                height: 'inherit',\n                            }}\n                        >\n                            <Spinner animation=\"border\" role=\"status\" />\n                            <p>Please Wait...</p>\n                        </div>\n                    </CustomModal.Body>\n                </CustomModal>\n\n                <div className=\"form-container m-350\">\n                    <h1 className=\"app-name\">Register</h1>\n                    <hr class=\"line\" />\n                    <Form>\n                        <Form.Group controlId=\"data\">\n                            <Form.Control\n                                placeholder=\"Enter username...\"\n                                className=\"login-input thin-border\"\n                                onChange={(se) =>\n                                    this.recordValue(\n                                        se.target.value,\n                                        'username'\n                                    )\n                                }\n                            />\n                            <Form.Control\n                                placeholder=\"Enter email...\"\n                                type=\"email\"\n                                className=\"login-input thin-border\"\n                                onChange={(se) =>\n                                    this.recordValue(se.target.value, 'email')\n                                }\n                            />\n                            <Form.Control\n                                placeholder=\"Enter password...\"\n                                type=\"password\"\n                                className=\"login-input thin-border\"\n                                onChange={(se) =>\n                                    this.recordValue(\n                                        se.target.value,\n                                        'password'\n                                    )\n                                }\n                            />\n                            <Form.Control\n                                placeholder=\"Confirm password...\"\n                                type=\"password\"\n                                className=\"login-input thin-border\"\n                                onChange={(se) =>\n                                    this.recordValue(\n                                        se.target.value,\n                                        'confirmPassword'\n                                    )\n                                }\n                            />\n                        </Form.Group>\n                        <Button\n                            className=\"button\"\n                            variant=\"primary\"\n                            type=\"submit\"\n                            onClick={this.handleSubmit}\n                        >\n                            Register\n                        </Button>\n                        {this.state.alertusername && (\n                            <Alert\n                                variant=\"warning\"\n                                style={{\n                                    'margin-top': '10px',\n                                }}\n                            >\n                                {this.state.alertusername}\n                            </Alert>\n                        )}\n                        {this.state.alertemail && (\n                            <Alert\n                                variant=\"warning\"\n                                style={{\n                                    'margin-top': '10px',\n                                }}\n                            >\n                                {this.state.alertemail}\n                            </Alert>\n                        )}\n                        {this.state.alertpassword && (\n                            <Alert\n                                variant=\"warning\"\n                                style={{\n                                    'margin-top': '10px',\n                                }}\n                            >\n                                {this.state.alertpassword}\n                            </Alert>\n                        )}\n                        {this.state.alertconfirmPassword && (\n                            <Alert\n                                variant=\"warning\"\n                                style={{\n                                    'margin-top': '10px',\n                                }}\n                            >\n                                {this.state.alertconfirmPassword}\n                            </Alert>\n                        )}\n                    </Form>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useAuth } from '../commons/auth-context/auth';\nexport default function SimpleFeed(props) {\n    let auth = useAuth();\n    console.log(auth);\n    return (\n        <>\n            <h1> Welcome to PhotoShare {auth.user.username}</h1>\n            <Button onClick={() => auth.signout()}>Logout</Button>\n        </>\n    );\n}\n","import React, { Component, Children } from 'react';\nimport { Route } from 'react-router';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport { useAuth } from '../auth-context/auth';\n\nexport default function ProtectedRoute({ children, ...rest }) {\n    const auth = useAuth();\n    let location = useLocation();\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                return auth.user.access_token ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: '/',\n                            state: {\n                                from: location,\n                            },\n                        }}\n                    />\n                );\n            }}\n        />\n    );\n}\n","import { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport React from 'react';\nimport Login from '../loginform/LoginForm';\nimport RegistrationForm from '../registration/registration-form';\nimport SimpleFeed from '../feed/simple-feed-layout';\nimport ProtectedRoute from '../commons/protected-route/protected-route';\nimport { ProvideAuth } from '../commons/auth-context/auth';\nexport default function Layout() {\n    return (\n        <ProvideAuth>\n            <Router>\n                <Switch>\n                    <Route exact path=\"/\">\n                        <Login />\n                    </Route>\n                    <Route path=\"/register\">\n                        <RegistrationForm />\n                    </Route>\n                    <ProtectedRoute path=\"/feed\">\n                        <SimpleFeed />\n                    </ProtectedRoute>\n                </Switch>\n            </Router>\n        </ProvideAuth>\n    );\n}\n","import logo from './logo.svg';\nimport './App.css';\nimport LoginForm from './components/loginform/LoginForm';\nimport Layout from './components/layout/layout';\nfunction App() {\n\treturn (\n\t\t<div>\n\t\t\t<Layout />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}